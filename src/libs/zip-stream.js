!function(){var e="object"==typeof window?window:"object"==typeof self?self:this,t=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder;e.URL=e.URL||e.webkitURL||function(e,t){return(t=document.createElement("a")).href=e,t};var r=e.Blob,n=URL.createObjectURL,o=URL.revokeObjectURL,i=e.Symbol&&e.Symbol.toStringTag,a=!1,s=!1,c=!!e.ArrayBuffer,u=t&&t.prototype.append&&t.prototype.getBlob;try{a=2===new Blob(["Ã¤"]).size,s=2===new Blob([new Uint8Array([1,2])]).size}catch(e){}function f(e){return e.map(function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var r=new Uint8Array(e.byteLength);r.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=r.buffer}return t}return e})}function p(e,r){r=r||{};var n=new t;return f(e).forEach(function(e){n.append(e)}),r.type?n.getBlob(r.type):n.getBlob()}function d(e,t){return new r(f(e),t||{})}e.Blob&&(p.prototype=Blob.prototype,d.prototype=Blob.prototype);var y="function"==typeof TextEncoder?TextEncoder.prototype.encode.bind(new TextEncoder):function(t){for(var r=0,n=t.length,o=e.Uint8Array||Array,i=0,a=Math.max(32,n+(n>>1)+7),s=new o(a>>3<<3);r<n;){var l=t.charCodeAt(r++);if(l>=55296&&l<=56319){if(r<n){var c=t.charCodeAt(r);56320==(64512&c)&&(++r,l=((1023&l)<<10)+(1023&c)+65536)}if(l>=55296&&l<=56319)continue}if(i+4>s.length){a+=8,a=(a*=1+r/t.length*2)>>3<<3;var u=new Uint8Array(a);u.set(s),s=u}if(0!=(4294967168&l)){if(0==(4294965248&l))s[i++]=l>>6&31|192;else if(0==(4294901760&l))s[i++]=l>>12&15|224,s[i++]=l>>6&63|128;else{if(0!=(4292870144&l))continue;s[i++]=l>>18&7|240,s[i++]=l>>12&63|128,s[i++]=l>>6&63|128}s[i++]=63&l|128}else s[i++]=l}return s.slice(0,i)},h="function"==typeof TextDecoder?TextDecoder.prototype.decode.bind(new TextDecoder):function(e){for(var t=e.length,r=[],n=0;n<t;){var o,i,a,s,l=e[n],c=null,u=l>239?4:l>223?3:l>191?2:1;if(n+u<=t)switch(u){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[n+1]))&&(s=(31&l)<<6|63&o)>127&&(c=s);break;case 3:o=e[n+1],i=e[n+2],128==(192&o)&&128==(192&i)&&(s=(15&l)<<12|(63&o)<<6|63&i)>2047&&(s<55296||s>57343)&&(c=s);break;case 4:o=e[n+1],i=e[n+2],a=e[n+3],128==(192&o)&&128==(192&i)&&128==(192&a)&&(s=(15&l)<<18|(63&o)<<12|(63&i)<<6|63&a)>65535&&s<1114112&&(c=s)}null===c?(c=65533,u=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),n+=u}var f=r.length,p="";for(n=0;n<f;)p+=String.fromCharCode.apply(String,r.slice(n,n+=4096));return p};function b(){var t=!!e.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,r=e.XMLHttpRequest&&e.XMLHttpRequest.prototype.send;t&&r&&(XMLHttpRequest.prototype.send=function(e){e instanceof Blob?(this.setRequestHeader("Content-Type",e.type),r.call(this,e)):r.call(this,e)});try{new File([],"")}catch(t){try{var n=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name.replace(///g, ":");this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date();this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')();e.File=n}catch(t){n=function(e,t,r){var n=new Blob(e,r),o=r&&void 0!==r.lastModified?new Date(r.lastModified):new Date;return n.name=t.replace(/\//g,":"),n.lastModifiedDate=o,n.lastModified=+o,n.toString=function(){return"[object File]"},i&&(n[i]="File"),n};e.File=n}}}a?(b(),e.Blob=s?e.Blob:d):u?(b(),e.Blob=p):function(){function t(e){for(var t=new Array(e.byteLength),r=new Uint8Array(e),n=t.length;n--;)t[n]=r[n];return t}function r(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=[],n=0;n<e.length;n+=3){var o=e[n],i=n+1<e.length,a=i?e[n+1]:0,s=n+2<e.length,l=s?e[n+2]:0,c=o>>2,u=(3&o)<<4|a>>4,f=(15&a)<<2|l>>6,p=63&l;s||(p=64,i||(f=64)),r.push(t[c],t[u],t[f],t[p])}return r.join("")}var i=Object.create||function(e){function t(){}return t.prototype=e,new t};if(c)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(r,n){n=null==n?{}:n;for(var o=0,i=(r=r||[]).length;o<i;o++){var a=r[o];a instanceof u?r[o]=a._buffer:"string"==typeof a?r[o]=y(a):c&&(ArrayBuffer.prototype.isPrototypeOf(a)||s(a))?r[o]=t(a):c&&(f=a)&&DataView.prototype.isPrototypeOf(f)?r[o]=t(a.buffer):r[o]=y(String(a))}var f;this._buffer=e.Uint8Array?function(e){for(var t=0,r=e.length;r--;)t+=e[r].length;var n=new Uint8Array(t),o=0;for(r=0,l=e.length;r<l;r++){var i=e[r];n.set(i,o),o+=i.byteLength||i.length}return n}(r):[].concat.apply([],r),this.size=this._buffer.length,this.type=n.type||"",/[^\u0020-\u007E]/.test(this.type)?this.type="":this.type=this.type.toLowerCase()}function f(e,t,r){r=r||{};var n=u.call(this,e,r)||this;return n.name=t.replace(/\//g,":"),n.lastModifiedDate=r.lastModified?new Date(r.lastModified):new Date,n.lastModified=+n.lastModifiedDate,n}if(u.prototype.arrayBuffer=function(){return Promise.resolve(this._buffer)},u.prototype.text=function(){return Promise.resolve(h(this._buffer))},u.prototype.slice=function(e,t,r){return new u([this._buffer.slice(e||0,t||this._buffer.length)],{type:r})},u.prototype.toString=function(){return"[object Blob]"},f.prototype=i(u.prototype),f.prototype.constructor=f,Object.setPrototypeOf)Object.setPrototypeOf(f,u);else try{f.__proto__=u}catch(e){}function p(){if(!(this instanceof p))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var e=document.createDocumentFragment();this.addEventListener=e.addEventListener,this.dispatchEvent=function(t){var r=this["on"+t.type];"function"==typeof r&&r(t),e.dispatchEvent(t)},this.removeEventListener=e.removeEventListener}function d(e,t,r){if(!(t instanceof u))throw new TypeError("Failed to execute '"+r+"' on 'FileReader': parameter 1 is not of type 'Blob'.");e.result="",setTimeout(function(){this.readyState=p.LOADING,e.dispatchEvent(new Event("load")),e.dispatchEvent(new Event("loadend"))})}f.prototype.toString=function(){return"[object File]"},p.EMPTY=0,p.LOADING=1,p.DONE=2,p.prototype.error=null,p.prototype.onabort=null,p.prototype.onerror=null,p.prototype.onload=null,p.prototype.onloadend=null,p.prototype.onloadstart=null,p.prototype.onprogress=null,p.prototype.readAsDataURL=function(e){d(this,e,"readAsDataURL"),this.result="data:"+e.type+";base64,"+r(e._buffer)},p.prototype.readAsText=function(e){d(this,e,"readAsText"),this.result=h(e._buffer)},p.prototype.readAsArrayBuffer=function(e){d(this,e,"readAsText"),this.result=(e._buffer.buffer||e._buffer).slice()},p.prototype.abort=function(){},URL.createObjectURL=function(e){return e instanceof u?"data:"+e.type+";base64,"+r(e._buffer):n.call(URL,e)},URL.revokeObjectURL=function(e){o&&o.call(URL,e)};var b=e.XMLHttpRequest&&e.XMLHttpRequest.prototype.send;b&&(XMLHttpRequest.prototype.send=function(e){e instanceof u?(this.setRequestHeader("Content-Type",e.type),b.call(this,h(e._buffer))):b.call(this,e)}),e.FileReader=p,e.File=f,e.Blob=u}(),i&&(File.prototype[i]="File",Blob.prototype[i]="Blob",FileReader.prototype[i]="FileReader");var w,v=e.Blob.prototype;function g(e){return new Promise(function(t,r){e.onload=e.onerror=function(n){e.onload=e.onerror=null,"load"===n.type?t(e.result||e):r(new Error("Failed to read the blob/file"))}})}try{new ReadableStream({type:"bytes"}),w=function(){var e=0,t=this;return new ReadableStream({type:"bytes",autoAllocateChunkSize:524288,pull:function(r){var n=r.byobRequest.view;return t.slice(e,e+n.byteLength).arrayBuffer().then(function(o){var i=new Uint8Array(o),a=i.byteLength;e+=a,n.set(i),r.byobRequest.respond(a),e>=t.size&&r.close()})}})}}catch(e){try{new ReadableStream({}),w=function(e){var t=0;e=this;return new ReadableStream({pull:function(r){return e.slice(t,t+524288).arrayBuffer().then(function(n){t+=n.byteLength;var o=new Uint8Array(n);r.enqueue(o),t==e.size&&r.close()})}})}}catch(e){try{new Response("").body.getReader().read(),w=function(){return new Response(this).body}}catch(e){w=function(){throw new Error("Include https://github.com/MattiasBuelens/web-streams-polyfill")}}}}v.arrayBuffer||(v.arrayBuffer=function(){var e=new FileReader;return e.readAsArrayBuffer(this),g(e)}),v.text||(v.text=function(){var e=new FileReader;return e.readAsText(this),g(e)}),v.stream||(v.stream=w)}();class Crc32{constructor(){this.crc=-1}append(e){for(var t=0|this.crc,r=this.table,n=0,o=0|e.length;n<o;n++)t=t>>>8^r[255&(t^e[n])];this.crc=t}get(){return~this.crc}}Crc32.prototype.table=(()=>{var e,t,r,n=[];for(e=0;e<256;e++){for(r=e,t=0;t<8;t++)r=1&r?r>>>1^3988292384:r>>>1;n[e]=r}return n})();const getDataHelper=e=>{var t=new Uint8Array(e);return{array:t,view:new DataView(t.buffer)}},pump=e=>e.reader.read().then(t=>{if(t.done)return e.writeFooter();const r=t.value;e.crc.append(r),e.uncompressedLength+=r.length,e.compressedLength+=r.length,e.ctrl.enqueue(r)});function createWriter(e){const t=Object.create(null),r=[],n=new TextEncoder;let o,i,a,s=0,l=0;function c(){(i=t[r[++l]])?p():a&&f()}var u={enqueue(e){if(a)throw new TypeError("Cannot enqueue a chunk into a readable stream that is closed or has been requested to be closed");let l=e.name.trim();const u=new Date(void 0===e.lastModified?Date.now():e.lastModified);if(e.directory&&!l.endsWith("/")&&(l+="/"),t[l])throw new Error("File already exists.");const f=n.encode(l);r.push(l);const d=t[l]={level:0,ctrl:o,directory:!!e.directory,nameBuf:f,comment:n.encode(e.comment||""),compressedLength:0,uncompressedLength:0,writeHeader(){var e=getDataHelper(26),t=getDataHelper(30+f.length);d.offset=s,d.header=e,0===d.level||d.directory||e.view.setUint16(4,2048),e.view.setUint32(0,335546376),e.view.setUint16(6,(u.getHours()<<6|u.getMinutes())<<5|u.getSeconds()/2,!0),e.view.setUint16(8,(u.getFullYear()-1980<<4|u.getMonth()+1)<<5|u.getDate(),!0),e.view.setUint16(22,f.length,!0),t.view.setUint32(0,1347093252),t.array.set(e.array,4),t.array.set(f,30),s+=t.array.length,o.enqueue(t.array)},writeFooter(){var e=getDataHelper(16);e.view.setUint32(0,1347094280),d.crc&&(d.header.view.setUint32(10,d.crc.get(),!0),d.header.view.setUint32(14,d.compressedLength,!0),d.header.view.setUint32(18,d.uncompressedLength,!0),e.view.setUint32(4,d.crc.get(),!0),e.view.setUint32(8,d.compressedLength,!0),e.view.setUint32(12,d.uncompressedLength,!0)),o.enqueue(e.array),s+=d.compressedLength+16,c()},fileLike:e};i||(i=d,p())},close(){if(a)throw new TypeError("Cannot close a readable stream that has already been requested to be closed");i||f(),a=!0}};function f(){var e,n,i=0,a=0;for(e=0;e<r.length;e++)i+=46+(n=t[r[e]]).nameBuf.length+n.comment.length;const l=getDataHelper(i+22);for(e=0;e<r.length;e++)n=t[r[e]],l.view.setUint32(a,1347092738),l.view.setUint16(a+4,5120),l.array.set(n.header.array,a+6),l.view.setUint16(a+32,n.comment.length,!0),n.directory&&l.view.setUint8(a+38,16),l.view.setUint32(a+42,n.offset,!0),l.array.set(n.nameBuf,a+46),l.array.set(n.comment,a+46+n.nameBuf.length),a+=46+n.nameBuf.length+n.comment.length;l.view.setUint32(a,1347093766),l.view.setUint16(a+8,r.length,!0),l.view.setUint16(a+10,r.length,!0),l.view.setUint32(a+12,i,!0),l.view.setUint32(a+16,s,!0),o.enqueue(l.array),o.close()}function p(){if(i)return i.directory?i.writeFooter(i.writeHeader()):i.reader?pump(i):void(i.fileLike.stream?(i.crc=new Crc32,i.reader=i.fileLike.stream().getReader(),i.writeHeader()):c())}return new ReadableStream({start:t=>{o=t,e.start&&Promise.resolve(e.start(u))},pull:()=>p()||e.pull&&Promise.resolve(e.pull(u))})}window.ZIP=createWriter;